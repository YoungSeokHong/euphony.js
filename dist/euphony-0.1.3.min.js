window["euphony.js"]=function(r){var o={};function __webpack_require__(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=r,__webpack_require__.c=o,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)__webpack_require__.d(r,o,function(e){return t[e]}.bind(null,o));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?function(t){function _typeof(e){return t.apply(this,arguments)}return _typeof.toString=function(){return t.toString()},_typeof}(function(e){return void 0===e?"undefined":_typeof(e)}):function(t){function _typeof(e){return t.apply(this,arguments)}return _typeof.toString=function(){return t.toString()},_typeof}(function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)}))(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==(void 0===t?"undefined":_typeof(t))&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function euphony(){this.FFTSIZE=2048,this.BUFFERSIZE=2048,this.PI=3.141592653589793,this.PI2=2*this.PI,this.SAMPLERATE=44100,this.SPAN=86,this.ZEROPOINT=18e3,this.context=new AudioContext,this.isAudioWorkletAvailable=Boolean(this.context.audioWorklet&&"function"==typeof this.context.audioWorklet.addModule),this.scriptProcessor=null,this.outBuffer=new Array,this.playBuffer=new Array,this.playBufferIdx=0,this.startPointBuffer=this.crossfadeStaticBuffer(this.makeStaticFrequency(this.ZEROPOINT-this.SPAN));for(var e=0;e<16;e++)this.outBuffer[e]=this.crossfadeStaticBuffer(this.makeStaticFrequency(this.ZEROPOINT+e*this.SPAN));this.playBufferIdx=0}window.Euphony=(euphony.prototype={setCode:function setCode(e){var t=this;t.playBuffer[0]=t.startPointBuffer;for(var r="",o=0;o<e.length;o++)r+=e.charCodeAt(o).toString(16);for(var n=0;n<r.length;n++)switch(r.charAt(n)){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t.playBuffer[n+1]=t.outBuffer[r.charCodeAt(n)-"0".charCodeAt()];break;case"a":case"b":case"f":case"c":case"d":case"e":t.playBuffer[n+1]=t.outBuffer[r.charCodeAt(n)-"a".charCodeAt()+10]}t.playBuffer[r.length+1]=t.outBuffer[t.makeChecksum(r)],t.playBuffer[r.length+2]=t.outBuffer[t.makeParallelParity(r)]},play:function play(){var n=this;if(n.isAudioWorkletAvailable){var t=(function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(EuphonyNode,AudioWorkletNode),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(EuphonyNode,[{key:"handleMsg",value:function handleMsg(){this.port.postMessage({message:"Hi, Euphony"})}}]),EuphonyNode),e=n.context.audioWorklet,r=n.context.createBufferSource();e.addModule("./euphony-processor.mjs").then(function(){var e=new t(n.context);r.connect(e),e.connect(n.context.destination),r.start()})}else{var o=n.context.createBufferSource();o.buffer=n.context.createBuffer(2,2*n.SAMPLERATE,n.SAMPLERATE),n.scriptProcessor=n.context.createScriptProcessor(n.FFTSIZE,0,2),n.scriptProcessor.loop=!0,n.scriptProcessor.onaudioprocess=function(e){for(var t=e.outputBuffer.getChannelData(0),r=e.outputBuffer.getChannelData(1),o=0;o<t.length;o++)t[o]=r[o]=n.playBuffer[n.playBufferIdx][o];n.playBuffer.length==++n.playBufferIdx&&(n.playBufferIdx=0)},o.connect(n.scriptProcessor),n.scriptProcessor.connect(n.context.destination),o.start()}function EuphonyNode(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EuphonyNode);var t=_possibleConstructorReturn(this,(EuphonyNode.__proto__||Object.getPrototypeOf(EuphonyNode)).call(this,e,"euphony-processor"));return t.port.onmessage=t.handleMsg.bind(t),t.port.postMessage({message:"created EuphonyNode"}),t}},stop:function stop(){this.scriptProcessor.disconnect(),this.playBuffer=new Array,this.playBufferIdx=0},makeStaticFrequency:function makeStaticFrequency(e){for(var t=new Array,r=0;r<this.BUFFERSIZE;r++)t[r]=Math.sin(this.PI2*e*(r/this.SAMPLERATE));return t},crossfadeStaticBuffer:function crossfadeStaticBuffer(e){for(var t,r=this.BUFFERSIZE/8,o=0;o<r;o++)t=o/r,e[o]*=t,e[this.BUFFERSIZE-1-o]*=t;return e},mixRawData:function mixRawData(){for(var e=0,t=arguments.length;e<t;e++){t_buffer=this.makeStaticFrequency(arguments[e]);for(var r=0;r<this.BUFFERSIZE;r++)this.outBuffer[r]=(outBuffer[r]+t_buffer[r])/2}},maximizeVolume:function maximizeVolume(){for(var e=0,t=0;t<this.BUFFERSIZE;t++)e<Math.abs(outBuffer[t])&&(e=this.outBuffer[t]);32767==e&&(this.outBuffer[i]*=32767/e)},makeChecksum:function makeChecksum(e){for(var t=0,r=0;r<e.length;r++)switch(e.charAt(r)){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t+=e.charCodeAt(r)-"0".charCodeAt();break;case"a":case"b":case"c":case"d":case"e":case"f":t+=e.charCodeAt(r)-"a".charCodeAt()+10}return 1+~(t&=15)&15},makeParallelParity:function makeParallelParity(e){for(var t=0,r=0,o=0,n=0,a=0;a<e.length;a++){var c=void 0;switch(e.charAt(a)){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c=e.charCodeAt(a)-"0".charCodeAt();break;case"a":case"b":case"c":case"d":case"e":case"f":c=e.charCodeAt(a)-"a".charCodeAt()+10}t+=(8&c)>>3,r+=(4&c)>>2,o+=(2&c)>>1,n+=1&c}return 8*(1&t)+4*(1&r)+2*(1&o)+(1&n)}},euphony)}]).default;